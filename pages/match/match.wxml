<!--pages/match/match.wxml-->
<view class="container">
  <!-- 顶部筛选栏 -->
  <view class="filter-bar">
    <picker 
      class="filter-item" 
      mode="selector" 
      range="{{areas}}" 
      value="{{areaIndex}}" 
      bindchange="onAreaChange"
    >
      <view class="filter-text">{{areas[areaIndex]}}</view>
    </picker>
    
    <picker 
      class="filter-item" 
      mode="selector" 
      range="{{categories}}" 
      value="{{categoryIndex}}" 
      bindchange="onCategoryChange"
    >
      <view class="filter-text">{{categories[categoryIndex]}}</view>
    </picker>
    
    <picker 
      class="filter-item" 
      mode="selector" 
      range="{{dates}}" 
      value="{{dateIndex}}" 
      bindchange="onDateChange"
    >
      <view class="filter-text">{{dates[dateIndex]}}</view>
    </picker>
    
    <view class="search-btn" bindtap="onSearch">
      <icon type="search" size="24" color="#666" />
    </view>
  </view>

  <!-- 赛事列表 -->
  <view class="match-list">
    <block wx:for="{{matches}}" wx:key="id">
      <view class="match-card">
        <!-- 赛事图片区域 -->
        <view class="match-img-container">
          <image 
            class="match-img" 
            src="{{item.imgUrl}}" 
            mode="widthFix"
          ></image>
          <!-- 状态标签 -->
          <view class="status-tag {{item.status === '即将开始' ? 'status-upcoming' : 'status-ended'}}">
            {{item.status}}
          </view>
          <!-- 收藏按钮 -->
          <view class="favorite-btn" bindtap="toggleFavorite" data-id="{{item.id}}">
            <icon 
              type="{{item.isFavorite ? 'star' : 'star-o'}}" 
              size="24" 
              color="{{item.isFavorite ? '#FFCC00' : '#FFFFFF'}}" 
            />
          </view>
        </view>
        
        <!-- 赛事信息 -->
        <view class="match-info">
          <view class="match-title">{{item.title}}</view>
          <view class="match-date">
            <icon type="calendar" size="16" color="#999" />
            <text>{{item.date}}</text>
          </view>
          <view class="match-location">
            <icon type="location" size="16" color="#999" />
            <text>{{item.location}}</text>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- 底部导航 -->
  <view class="tab-bar">
    <view class="tab-item active">
      <icon type="cup" size="28" />
      <text>赛事</text>
    </view>
    <view class="tab-item">
      <icon type="book" size="28" />
      <text>百科通</text>
    </view>
    <view class="tab-item">
      <icon type="user" size="28" />
      <text>我的</text>
    </view>
  </view>
</view>